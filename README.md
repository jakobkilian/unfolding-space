# Unfolding space

The “Unfolding Space” glove is an open source navigation aid system for the visually impaired.

## What is it about?

The project deals with sensory substitution: A phenomenon by which the function of one missing or dysfunctional sensory modality is replaced (substituted) by stimulating another one. The outcome is a prototype that projects a 3D picture, generated by a special camera, as vibration patterns on the back of the hand. Visually impaired people can therefore use their tactile modality of the hand to actually see.

**More information can be found here:**

- [Hackaday.io Project Page ](https://hackaday.io/project/163784-unfolding-space)(with project logs, files and instructions)
- [Project Website](https://unfoldingspace.jakobkilian.de/) with more information, images and press texts
- [Publications on Researchgate](https://www.researchgate.net/project/Unfolding-Space) – my scientific papers (german only, sorry)


## What parts are needed?

This is only the software readme. To test or use the system, you need a bunch of stuff:

- **The Computing Unit:** custom 3D print casing containing battery pack and Raspberry Pi. (~ 100€)
- **The Glove:** containing a custom made PCB and 9 vibration motors. (~ 100€)
- **3D ToF Camera:** Pico Flexx ToF Camera by pmdtec. (~ 300€)

As you can see **certain costs and efforts** are needed to build and assamble all parts. You can find build instructions, files, projects logs and more on my [Hackaday project page ](https://hackaday.io/project/163784-unfolding-space)

I tried to document everything as good as I can, but as the development is still ongoing, things change very week. If you plan to build your own device, drop me a line and I can assist as good as I can.


## Contents of this Readme

In this Readme I focus on the software side.

- **Main Code:** C++ Scripts to compile and run on a Raspberry 3b+
- **Processing.org Sketch** for an Android app monitoring the Raspi's activities
- **Arduino Sketch** to run on a Digispark to read out analog potentiometer values on a Raspi

Not included (due to license restrictions) is the libroyale library for the Tof camera pico flexx, which you can download, when you own a device:
<https://pmdtec.com/picofamily/software-download/>

## Main Code for the Raspberry Pi 3b+

The Code is written in C++ as it was the only supported language by the Pico Flexx library. I am Designer and I didn't study how to write proper code from the beginning. I hope you forgive me for my amateurish code and documentation and feel free to comment and to help me! I am bloody new to Github and to the conventions...

## Arduino code
As a Raspberry doesn't have a D/A conerter on board, you need a small Arduino or microcomputer attached to it. I used a Digispark equipped with a potentiometer, as they are exremely small and affordable. You only have to upload the attached Arduino Code and maybe adjust the Serial Port. The Digispark will then send the current position to the Raspi whenever there is a change.


### Installation

You need to install several libraries before you can actually build and run the main code. Makefile is included, a detailled guide is in the making.

### Usage

Once compiled and runing, the code analyses and processes the 3D data coming from the ToF cam and drives the vibration motors via i2C and the custom made PCB so that one can feel the 3D image on the skin.
The code prints debugging information in the console and broadcasts them via UDP in the network. If you run the Android App on a smartphone in the same network, you should be able to control and monitor the raspi.

### How the Code is structured

The Code mainly consists of 5 files:

- **main.cpp**
containts the initialization process and the endless loop
- **init.cpp** only holds some init functions
- **camera.cpp** gets the 3D frames from the ToF camera, processes them and sends them to the glove
- **glove.cpp** mainly contains functions that set up the motors and that process data in order to send it to the motor board.
- **poti.cpp** reads information coming from the Digispark Arduino about the setting of the potentiometer that can be used to control distance settings

## Processing.org Sketch

To run the enclosed Processing Sketch on your phone you have to go to [Processing.org](https://processing.org/download/), download the Processing IDE and install it on your computer. Next you connect your phone via USB cable to the computer and then you can run the sketch directly on your phone. The newly created app will remain on your phone afterwards.




## Support and Contributing

**I am urgently looking for contributors!**

So far this project is developed only by me myself. I did not seet up chat rooms, issue tracker or anything else, as I'm not familiar with it and as I do not have and contributors. If you want to join the project, just contact me (here on Github, on [Hackaday.io](https://hackaday.io/project) or via my [homepage](https://unfoldingspace.jakobkilian.de/)), and we will see how we can solve this.
